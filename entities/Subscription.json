{
  "type": "object",
  "properties": {
    "userId": {
      "type": "string",
      "description": "ID del usuario que tiene la suscripción"
    },
    "userEmail": {
      "type": "string",
      "description": "Email del usuario (para referencia rápida)"
    },
    "mpPreapprovalId": {
      "type": "string",
      "description": "ID de la suscripción en MercadoPago (preapproval_id)"
    },
    "mpPreapprovalPlanId": {
      "type": "string",
      "description": "ID del plan de suscripción en MercadoPago (preapproval_plan_id)"
    },
    "planId": {
      "type": "string",
      "description": "ID del plan en Mercado Pago"
    },
    "planName": {
      "type": "string",
      "description": "Nombre del plan (ej: FINFOCUS START, FINLEGAL ESENCIAL)"
    },
    "planType": {
      "type": "string",
      "enum": ["FINFOCUS", "FINLEGAL", "COMBO"],
      "description": "Tipo de plan"
    },
    "planRole": {
      "type": "string",
      "enum": [
        "FINFOCUS_START",
        "FINFOCUS",
        "FINFOCUS_PLUS",
        "FINFOCUS_PLATINO",
        "FINFOCUS_ADVANCED",
        "FINLEGAL_ESENCIAL",
        "FINLEGAL_PLUS",
        "FINLEGAL_TOTAL"
      ],
      "description": "Rol que se asigna al usuario con este plan"
    },
    "billingCycle": {
      "type": "string",
      "enum": ["monthly", "annual", "combo"],
      "description": "Ciclo de facturación"
    },
    "price": {
      "type": "number",
      "description": "Precio pagado"
    },
    "currency": {
      "type": "string",
      "default": "USD",
      "description": "Moneda del pago (USD o ARS)"
    },
    "startDate": {
      "type": "string",
      "format": "date-time",
      "description": "Fecha de inicio de la suscripción"
    },
    "endDate": {
      "type": "string",
      "format": "date-time",
      "description": "Fecha de vencimiento de la suscripción"
    },
    "status": {
      "type": "string",
      "enum": ["active", "expired", "cancelled", "pending", "authorized"],
      "default": "pending",
      "description": "Estado de la suscripción"
    },
    "paymentId": {
      "type": "string",
      "description": "ID del pago en Mercado Pago"
    },
    "paymentStatus": {
      "type": "string",
      "description": "Estado del pago en Mercado Pago"
    },
    "autoRenew": {
      "type": "boolean",
      "default": false,
      "description": "Si la suscripción se renueva automáticamente"
    },
    "notes": {
      "type": "string",
      "description": "Notas administrativas"
    }
  },
  "required": ["userId", "planName", "planType", "billingCycle", "price", "startDate"]
}